# 데이터 단위 정리

## 계층별 데이터 단위

네트워크 통신에서는 계층에 따라 다루는 데이터의 단위가 다릅니다.

**응용 계층** - 스트림(Stream) 데이터로 길이가 정해지지 않은 연속적인 데이터를 다룹니다. 프로그램 설계에 따라 언제 종료될지 결정됩니다.

**TCP 계층** - 새그먼트(Segment)라는 단위로 데이터를 관리합니다. 스트림 데이터를 전송하기 위해 유저모드에서 커널로 내려가면서 일정 크기로 분할됩니다.

**IP 계층** - 패킷(Packet)이라는 단위로 다룹니다.

**네트워크 인터페이스 계층** - 프레임(Frame)이라는 단위로 전송됩니다.

## 새그먼트와 최대 크기

새그먼트는 스트림 데이터를 전송 가능한 크기로 자른 조각입니다. 새그먼트의 최대 길이는 **MSS(Maximum Segment Size)**로 결정됩니다.

MSS는 패킷의 최대 크기인 **MTU(Maximum Transmission Unit)** 에 의해 결정됩니다. 특별한 이유가 없다면 MTU는 **1500 바이트**이며, 이는 이더넷이 한 번에 전송할 수 있는 최대 용량입니다.

## 데이터 흐름과 인캡슐레이션

응용 프로세스가 파일(소켓)에 스트림 데이터를 쓰면 다음과 같은 과정을 거칩니다:

1. 스트림 데이터를 새그먼트로 분할(Segmentation)
2. 새그먼트를 패킷으로 포장
3. 패킷을 프레임에 넣어 이더넷을 통해 전송

각 계층에서 하위 계층의 데이터 단위로 인캡슐레이션되면서 네트워크를 통해 목적지에 도달합니다.
