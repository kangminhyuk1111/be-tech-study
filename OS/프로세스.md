# 프로세스?
프로세스란 프로그램이 실행되어 메모리에 올라간 상태를 프로세스라고 합니다.  
쉽게말해 동작중인 프로그램이 프로세스가 됩니다.  
프로그램은 실행되면 메모리에 일정한 영역을 할당받습니다.  
이 영역은 코드, 힙, 스택, 데이터 영역입니다. 이 영역은 프로세스와 함께 존재하며 운영체제로 부터 할당받은 공간을 사용합니다.  
프로세스의 상태는 총 3개가 존재합니다. 준비, 실행, 대기가 존재합니다.  
준비 상태는 실행을 준비중인 상태입니다.
준비상태에서 실행상태가 되면 프로세스가 실행됩니다.  
실행이 완료된 프로세스는 대기상태로 대기하고 CPU가 할당하면 완료된 프로세스가 실행됩니다. 

## 프로세스 제어 블록(Process Control Block)
프로세스 제어 블록은 운영체제가 프로세스를 관리하기 위해 가져야할 데이터를 가진 자료구조입니다.  
주요 정보는 다음이 존재합니다.
- 프로세스 ID: PID
- CPU 레지스터 값
- 프로세스의 상태: 위에서 말한 3개의 상태중 하나
- CPU 스케줄링 정보
- 메모리 관리 정보

## 문맥 교환(Context Switching)
여기서 문맥 교환(Context Switching)이라는 개념이 있습니다. 문맥 교환은 CPU가 A프로세스에서 타임 슬라이스가 만료되거나 작업이 완료되어 다른 프로세스로 이동하여 작업을 처리할 때 발생합니다.  
CPU의 제어권을 프로세스에서 프로세스로 넘겨주는 과정입니다.
1. 현재 프로세스의 CPU 레지스터 값 (문맥)을 PCB에 저장합니다.
2. 새로 실행할 프로세스의 PCB에 저장된 레지스터 값 (문맥)을 CPU 레지스터로 로드합니다.
이러한 문맥교환은 CPU가 유휴상태로 대기해야하기 때문에 오버헤드가 발생합니다.

## 스레드(Thread)
프로세스에서 실제로 작업을 할당받아 실행하는 실행의 단위입니다.  
특징으로는 프로세스의 자원을 공유합니다. 하지만 스택영역은 스레드가 별도로 가집니다.  
코드, 데이터, 힙 영역은 공유하지만 스택 영역은 스레드 내부에 독립적으로 존재합니다.  
여기서 멀티스레딩 이라는 개념도 존재합니다. 멀티스레딩이란, 스레드를 병렬적으로 처리할 수 있는 기술입니다.  
멀티스레딩을 사용하게 되면 작업을 절차적으로 실행하지 않고, 동시 실행하여 총 실행시간을 크게 단축시킬 수 있습니다.  
대신 같은 프로세스의 공유자원을 사용한다면, 동시성을 유의해야합니다. 같은 자원을 동시에 사용하게 되면 데이터 정합성 문제가 생기기 때문입니다.  

### Q1. 프로세스와 스레드의 가장 큰 차이는 무엇인가요?
프로세스는 메모리 영역에 자신만의 영역을 가집니다. CPU가 할당합니다. 그리고, 프로세스는 내부에 코드, 데이터, 힙, 스택 영역을 별도로 가집니다.  
스레드는 프로세스에서부터 파생되어 작업을 할당받은 실행의 단위입니다. 프로세스의 자식격이라고 볼 수 있습니다.
스레드는 독립적으로 존재할 수 없고 반드시 프로세스가 존재해야됩니다. 프로세스가 없으면 스레드도 없다고 볼 수 있습니다.  
스레드는 프로세스와 코드, 데이터, 힙을 공유하지만 스택 영역은 별도로 가집니다.
### Q2. 프로세스의 메모리 영역 4가지를 모두 나열하고 각각의 특징을 설명해보세요.
- 코드: 실제로 적용되고 동작하는 코드가 존재하는 영역입니다. 읽기 전용으로 저장됩니다.
- 데이터: 전역 변수와 정적 변수가 저장됩니다. 프로그램 시작시 할당되고 종료시 해제됩니다.
- 힙: 프로그래머가 실행시간에 동적으로 메모리를 할당하고 해제할 때 사용됩니다.
- 스택: 함수 호출 정보, 매개 변수, 지역 변수 등이 저장되는 영역입니다.
### Q3. 프로세스의 3가지 상태를 순서대로 설명해보세요.
- 준비: 프로세스가 실행하기 위한 준비를 마친 상태입니다.
- 실행: 실제 프로세스가 실행되는 상태입니다.
- 대기: 프로세스가 실행이 완료되었지만, I/O 요청같은 특정한 사건이 발생하길 기다리는 상태입니다.
### Q4. 프로세스 제어 블록(PCB)이 무엇이고 어떤 정보를 저장하나요?
프로세스 제어 블록은 프로세스가 가져야할 데이터를 가진 자료구조입니다.  
PCB는 PID, CPU 레지스터 값, 프로세스의 상태, CPU 스케줄링 정보, 메모리 관리 정보 등을 가집니다.
### Q5. 문맥 교환(Context Switching)이 발생하는 상황을 설명해보세요.
CPU가 프로세스의 작업을 완료하거나 할당받은 시간이 종료되면 다음 프로세스로 이동하여 작업하기 위해 문맥교환이 발생합니다.
### Q6. 문맥 교환의 구체적인 과정을 설명해보세요.
A프로세스가 작업을 종료하거나 타임 슬라이스가 종료된다 -> CPU가 유휴상태에 들어가고 다음 프로세스를 할당받는다 -> 다음 프로세스가 작업한다.  
유휴상태에 들어가고 다음 프로세스를 할당 받는것이 문맥 교환입니다.
### Q7. 문맥 교환에서 오버헤드가 발생하는 이유는 무엇인가요?
CPU가 유휴상태에 들어가기 때문에 오버헤드가 발생합니다. 유휴상태란 아무 작업을 하지않는 대기상태를 의미합니다.
### Q8. 스레드가 프로세스의 어떤 자원을 공유하고 어떤 자원을 독립적으로 가지나요?
스레드와 프로세스는 코드, 데이터, 힙을 공유자원으로 가지고 스택을 독립적으로 가집니다.
### Q9. 멀티스레딩을 사용할 때의 장점을 설명해보세요.
작업을 병렬적으로 처리하기 때문에 처리 시간에서 절차적 처리에 비해서 우수합니다.
### Q10. 멀티스레딩 환경에서 주의해야 할 점은 무엇인가요?
동시성과 데이터 정합성 문제를 생각해야 합니다. 공유자원에 동시에 접근하게 되면 데이터가 올바르게 저장되지 않을 수 있습니다.
